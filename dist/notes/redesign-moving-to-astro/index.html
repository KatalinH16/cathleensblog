<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Redesign: Moving to Astro • Robin Rendle</title><meta name="description"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/_astro/common-ZuqbKU.css" type="text/css"><link rel="sitemap" href="/sitemap.xml"><link rel="alternate" type="application/rss+xml" href="/feed/posts.xml"><link rel="canonical" href="http://robinrendle.com/notes/redesign-moving-to-astro/"><meta property="og:title" content="Redesign: Moving to Astro"><meta property="og:description"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" type="image/png" href="/favicon.png"><style type="text/css">

.wide-wrapper.astro-V2H4nGwR {
  max-width: 1800px;
  padding: 0 30px;
}

.wrapper.astro-V2H4nGwR {
  padding: 0 15px;
  margin: 0 auto;
}
@media screen and (min-width: 900px) {
  .wrapper.astro-V2H4nGwR {
    margin-top: 0;
    max-width: 720px;
  }
}

h1.astro-V2H4nGwR {
  font-weight: bold;
  font-size: 2.2em;
  font-family: National, var(--font-fallback);
}

.header.astro-V2H4nGwR {
  margin-top: 30px;
  border-top: 1px solid var(--color-background);
}
@media screen and (min-width: 900px) {
  .header.astro-V2H4nGwR {
    margin-top: 60px;
  }
}

.page-title.astro-V2H4nGwR, main.astro-V2H4nGwR {
  margin-top: 0;
}

.page-title.astro-V2H4nGwR {
  margin-bottom: 30px;
}

.article.astro-V2H4nGwR {
  margin-top: 0;
  padding-bottom: 200px;
}
@media screen and (min-width: 900px) {
  .article.astro-V2H4nGwR {
    grid-column: 6/13;
  }
}

.time.astro-V2H4nGwR {
  margin-bottom: 5px;
  color: var(--color-subtext);
  border-top: 1px solid var(--color-background);
}</style>
</head><body><div class="header astro-ahFEmudE"><div class="title astro-ahFEmudE"><a href="/" class="astro-ahFEmudE">Robin Rendle</a></div><nav class="nav astro-ahFEmudE"><a href="/notes" class="astro-ahFEmudE">Notes</a><a href="/essays" class="astro-ahFEmudE">Essays</a><a href="/adventures" class="astro-ahFEmudE">Adventures</a></nav></div><main class="astro-V2H4nGwR"><div class="header astro-V2H4nGwR"><div class="wrapper astro-V2H4nGwR"><div class="time astro-V2H4nGwR"><time datetime="2021-07-10T00:00:00.000Z" class="astro-V2H4nGwR">July 10, 2021</time> • San Francisco, California</div><h1 class="page-title astro-V2H4nGwR">Redesign: Moving to Astro</h1></div></div><div class="wrapper astro-V2H4nGwR"><article class="article astro-V2H4nGwR"><p class="astro-4vhQa4sy">Okay, so we’re moving the ol’ site from Eleventy to Astro. I think what finally convinced me to make the switch was, of all things, gulp.</p><p class="astro-4vhQa4sy">gulp is an important tool to automate stuff like image optimization, JavaScript minification, and Sass processing. But lately I’ve found myself increasingly frustrated by having to build a pipeline of tasks to do that stuff.</p><p class="astro-4vhQa4sy">Every six months or so I’d have to devote a day to fixing whatever I’ve broken — dependencies would break, things would bust randomly. Instead of writing stuff or improving things I would constantly have to keep up as the foundations of things shifted over time.</p><p class="astro-4vhQa4sy">I want to avoid all dependency management on my personal site.</p><p class="astro-4vhQa4sy">And I wanted to play around with Astro, any who. We’ve been talking about it a lot over on CSS-Tricks lately and for good reason: <a href="https://css-tricks.com/a-look-at-building-with-astro/" class="astro-4vhQa4sy">it’s extremely nifty</a>.</p><p class="astro-4vhQa4sy">The problem with switching to Astro is that I have to move over a thousand plus blog posts and a half dozen essays with custom CSS for each. It’s not too much work but it’s a bit of a faff.</p><p class="astro-4vhQa4sy">For instance I had to go through each markdown file and let Astro know which layout to use. So I had to use bash to do that (hence <a href="https://www.robinrendle.com/notes/why-is-file-manipulation-so-hard" class="astro-4vhQa4sy">my rant last night</a>):</p><pre class="language-html astro-y5UYZ7uS"><code class="language-html astro-y5UYZ7uS">---
layout: ../../layouts/notes.astro
title: A Blog Post
// other stuff
---

// Blog post content goes here
</code></pre><p class="astro-4vhQa4sy">Just adding that first line to a thousand files is way harder than it ought to be. I’m probably doing something wrong here but <em class="astro-4vhQa4sy">man</em> it’s annoying to have to use the command line to manipulate text docs. Feels like the 1960s to me. This was the command I used:</p><pre class="language-html astro-y5UYZ7uS"><code class="language-html astro-y5UYZ7uS">find . -maxdepth 1 -type f -exec sed -i.bk '2i layout: ../../layouts/post.astro
' {} ;
</code></pre><p class="astro-4vhQa4sy">ANYWAY. I gotta make sure that I move all the content correctly with this change. URLs are the most important thing to preserve, but I want to make sure that I move over all the fonts and nothing in my deploy to Netlify breaks. Oh, and I’m 1000% certain I’m gonna break the RSS feed, too.</p><p class="astro-4vhQa4sy">Wish me luck. And sorry in advance.</p></article></div></main></body></html>