@import "reset", "components", "custom-post";

/*
    [ROBINRENDLE.COM V2]

    @version: 1.0
    @author: Robin Rendle

    CONTENTS ----------

        - BODY
            - ACCESSIBILITY NAVIGATION
        - DEFAULT STYLING
            - FORMS
            - TABLES
            - LISTS
        - LINKS
        - MICRO
        - LAYOUT
            - HEADER & BRANDING
            - FOOTER
        - NAVIGATION
            - HORIZONTAL CLASS
            - PRIMARY NAVIGATION
        - GLOBAL ELEMENTS & COMPONENTS

    -------------------
*/


// @start BODY -------------------- //
* {
    box-sizing:border-box;
}
html {
    overflow-y:scroll;
    -webkit-font-smoothing: antialiased;
     -webkit-text-size-adjust: none; /* Prevent font scaling in landscape */
}
body {
    background-color:$offwhite;
    font-size: 110%;
    line-height:1.6;
    color:$offblack;
    font-family: Georgia, serif;
    border-top:4px solid $primary;
    border-bottom:4px solid $primary;
    float:left;
    width:100%;

    @include respond-to(grande){
        font-size:120%;
    }

    .fontface & {
        @extend %poynter;
        font-size: 100%;
        line-height:1.5;
        color:$offblack;

        @media only screen and (-webkit-min-device-pixel-ratio : 1.5), only screen and (min-device-pixel-ratio : 1.5) {
            font-size:100%;
        }

        @include respond-to(medium) {
            font-size:105%;
            line-height:1.55;
        }

        @include respond-to(grande) {
            font-size:115%;
        }

        @include respond-to(large) {
            line-height:1.64;
            font-size:116%;
        }
    }
}
// @start LINKS -------------------- //
a {
    color:$primary;
    text-decoration:none;
    @include transition-property(color);
    @include transition-duration(.2s);

    &:hover,
    &:focus {
        text-decoration:underline;
        color:$lightgrey;
    }

    h1 &{
        color:$offblack;
    }
}
// @end LINKS -------------------- //


// @start MARGINS -------------------- //
p,
blockquote,
ol,
ul,
pre,
figure,
figcaption,
form,
table,
dl {
    @include space;

    & + h3 {
        margin-top:2.4em;
        margin-bottom:1.2em;
    }
}

footer.about {
    font-style:italic;

    p {
        font-size:.95em;
        width:100%;
        max-width:none;
    }
}

// @end MARGINS -------------------- //

// @start MICRO -------------------- //
em, i, cite, figcaption {
    font-style:italic;
}

figcaption {
    font-size:.95em;
    line-height:1.5;
    margin-bottom:0;
    margin-top:.5em;
    color:$textgrey;

    &.cite {
        font-weight:bold;
        font-style:normal;

        .quote & {
            font-size:.9em;
        }
    }

    h5 {
        margin:0 auto;
        line-height:1.8;
    }

    p {
        margin-bottom:0;
        text-align: center;
    }
}

s {
    text-decoration:line-through;
}

small {
    font-size:.85em;
    line-height: 1.5;
    display:inline-block;
    margin-bottom:0;
}

code {
    color:$purple;
    font-family:$code;
    font-size:.9em;
    line-height:1.6;

    .fontface &{
        font-size:.95em;
    }

    &.class {
        color:#47CA26;
    }

    code {
        font-size:1em;

        .fontface & {
            font-size:1em;
        }
    }
}

samp {
    font-family:$code;
    font-size:.9em;
    color:$darkgrey;
}

strong,
b {
    font-weight:bold;
}

abbr, span {
    font-size:.8em;
    text-transform:uppercase;
}

dfn {
    border-bottom:1px dashed darken($secondary,10);
}

mark {
    background-color:$highlight;
    color:#333;
}

dl {
    dt {
        font-weight:bold;
    }

    dd {
        margin-left:1.5em;
    }
}

sub {
    line-height:90%;
    font-size:.8em;
    vertical-align:sub;
}

sup {
    vertical-align:super;
    line-height:0;
    font-size:.8em;
}

kbd {
    font-size:.6em;
    line-height:80%;
    background-color:#FCFCFC;
    @include background(linear-gradient(top, #FCFCFC, #EEEEEE));
    border:1px solid #E6E6E6;
    border-radius:3px;
    padding:.3em 0.4em .2em 0.4em;
    font-family:$code;
    white-space:nowrap;
}

q:before {content: '“'; content: open-quote;}
q:after {content: '”'; content: close-quote;}

hr {
    border:none;
    color:#ccc;
    font-size:1.3em;
    margin:-.3em 0 0.6em 0;
    text-align:center;
    display:block;

    &:after {
        content:"* * *";
        letter-spacing:.2em;
        height:0;
    }
}

// @start FORM -------------------- //
legend {
    @extend headline-three;
    margin:0 auto 1em auto;
    text-align:center;
    padding-bottom:.3em;
    float:left;
    width:100%;
    border-bottom:1px solid #ebebeb;
    -moz-box-shadow:0 1px #fff;
    -webkit-box-shadow:0 1px #fff;
    box-shadow:0 1px #fff;
    @include respond-to(grande){
        width:100%;
    }
}

input {
    width:100%;
    margin-bottom:0;
}

button,
.button,
input .button {
    @include cream-button;
}

fieldset {
    background:url("/assets/images/pattern.jpg");
    background-color:#FBFAFA;
    border:1px solid #ddd;
    padding:1em;

    div {
        margin-bottom:$margin;
        position:relative;

        label {
            width:100%;
            float:left;
        }

        label.error {
            border-radius:3px;
            color:$black;
            padding:3px 10px 2px;
            font-size:.8em;
            margin-top:0;
            margin-bottom:$margin*1.4;
            background-color:#e9e9e9;
            display:block;
            -moz-shadow:0 2px 0 0 #fff;
            -webkit-box-shadow:0 2px 0 0 #fff;
            box-shadow:0 2px 0 0 #fff;
            &::before {
                border-bottom:6px solid lighten(#ccc, 10%);
                border-left:6px solid transparent;
                border-right:6px solid transparent;
                content:"";
                left:50%;
                position:absolute;
                bottom:-1px;
                margin-left:-6px;
            }
        }
        &.submit {
             margin-top:1em;
        }
    }

    em {
        font-size:.85em;
        color:$grey;
        display:block;
        width:100%;
        padding-top:5px;
    }

    input {
        background-color:$offwhite;
        border-radius:3px;
        padding:.2em .4em;
        font-size:.9em;
        border:1px solid #ddd;
        color:$darkgrey;
        @extend %poynter;
        width:100%;
        box-sizing:border-box;
        ::-webkit-input-placeholder {
           font-weight:400;
        }

        :-moz-placeholder {
           font-weight:400;
        }

        .text {
            padding:0 .4em;
        }

        &[type="search"] {
            box-sizing:border-box;
            width:100%;
            background:url("/assets/images/icons/search.png") no-repeat 7px 3px;
            background-color:$offwhite;
            padding-left:3em;
            padding-top:.4em;

            .svg & {
                background-image:url("/assets/images/icons/search.svg");
            }
        }

        &[type="submit"] {
            @include red-button;

            &:hover,
            &:focus {
                background-image:darken($primary,15%);
                background-image: -webkit-linear-gradient(top, $primary, darken($primary, 15%));
                background-image: -o-linear-gradient(top, $primary, darken($primary, 15%));
                background-image: -moz-linear-gradient(top, $primary, darken($primary, 15%));
                background-image: -webkit-linear-gradient(top, $primary, darken($primary, 15%));
                background-image: -ms-linear-gradient(top, $primary, darken($primary, 15%));
            }

            &:active {
            @include transition-property(all);
            @include transition-duration(.5s);
            color:#cacaca;
            background-image:darken($primary,15%);
            background-image: -webkit-linear-gradient(top, darken($primary, 15%), darken($primary, 15%));
            background-image: -o-linear-gradient(top, darken($primary, 15%), darken($primary, 15%));
            background-image: -moz-linear-gradient(top, darken($primary, 15%), darken($primary, 15%));
            background-image: -webkit-linear-gradient(top, darken($primary, 15%), darken($primary, 15%));
            background-image: -ms-linear-gradient(top, darken($primary, 15%), darken($primary, 15%));
            }

            &[type="button"] {
                @include cream-button;
            }
        }
    }
}
textarea {
    background-color:$offwhite;
    @extend %poynter;
    max-width:100%;
    width:100%;
    border-radius:3px;
    padding:0 .4em;
    font-size:.9em;
    border:1px solid #ddd;
    color:$offblack;
}

// @start TABLE -------------------- //
table {
    line-height:1.2;
    padding:.8em 0;
    border-collapse:collapse;
    margin:0 auto 1.55em auto;
    border-radius:3px;

    tr {
        font-size:.9em;
        border-bottom:1px solid #ddd;
        padding: .3em 1%;

        &:nth-of-type(odd) {
            background:#F0F0F0;
        }

        td,
        th {
            padding:.7em;
            color:#666;
            text-align:left;
            border:1px solid #ccc;
        }

        th {
            border-bottom:1px solid #ccc;
            color:$offwhite;
            background-color:$darkgrey;
            padding:6px;
        }
    }

    caption {
        font-style:italic;
        display:block;
        margin-top:1.55em;
        width:100%;
    }
}
// @start LISTS -------------------- //
ul {
    li {
        list-style:none;
        padding-left:1em;
        background:url("/assets/images/icons/list.png") no-repeat 0 .8em;

        .svg & {
            background-image:url("/assets/images/icons/list.svg");
        }

        @include respond-to(grande){
            background-position:0 .8em;
            margin-left:-1em;
        }
    }

    ul,ol {
        margin-bottom:0;
    }
}

ol {
    li {
        list-style:decimal;
        list-style-position:outside;
        margin-left:1em;
        padding-left:0;
    }

    ol,ul {
        margin-bottom:0;

        li {
            list-style:lower-roman;
        }
    }
}

// @start BRANDING -------------------- //
[role="banner"]{
    max-width:5em;
    float:none;
    margin:0 auto;
    position:relative;
    padding:0;

    .avatar {
        margin:0 auto;
        position:absolute;
        width:4.5em;


        img {
            margin: 0 auto;
            border:5px solid $primary;
            border-top:1px;
            @include transition-property(border-color);
            @include transition-duration(.2s);

            &:hover,
            &:focus {
                border-color:lighten($primary, 15);

                body {
                    border-top:lighten($primary, 15);
                }
            }
        }
    }
}


// @start GLOBAL -------------------- //
.container {
    @extend %main_column;
}

section[role="main"] {
    min-height:50em;
    overflow:hidden;
}

header {
    width:100%;
    text-align:center;
    padding-top:8em;
    padding-bottom:2em;
    margin-top:0;

    @include respond-to(medium){
        margin-top:0;
    }

    &.hero {
        margin-top:0;
        padding-top:2em;
    }

    h1 {
        margin:0 auto;
    }

    p {
        font-size:.95em;
        color:$grey;
        margin-bottom:0;
        font-style:italic;
    }

   .meta  {
        line-height:1.6;
        time,
        p {
            font-style: normal;
            color:$grey;
            width:auto;
            display:inline-block;
            font-size:.9em;

            @include respond-to(large){
                font-size:.85em;
            }
        }

        p:after {
            content:"~";
            color:#bbb;
            display:inline;
            margin-left:.35em;
            margin-right:.1em;
        }
    }
}

iframe {
    width:100%;

    &.map {
        min-height:18em;
        margin-bottom:-.4em;
    }
}

img {
    max-width:100%;
    margin:0 auto;
}

figure {

    img + img {
        margin-top:1em;
    }

    &.hero {
        margin:0 0 .5em 0;
        z-index:-9999;
        width:100%;
        max-height:26em;
        overflow:hidden;
        border-bottom:1px solid #ddd;

        @include respond-to(leviathan){
            max-height:28em;
        }
    }

    &.example {
        border:1px dashed lighten($secondary,5);
        padding:.7em 2.5% .8em 2.5%;
        margin:0 auto 1.7em auto;
        background-color:$offgrey;
        width:90%;
        max-width:35em;

        @include respond-to(medium) {
            width:85%;
            max-width:36em;
        }

        @include respond-to(widescreen){
            width:77%;
        }

        figcaption {
            width:100%;
        }

        hgroup,
        header hgroup {
            margin:0 auto;

            h1,h2,h3,h4,h5 {
                width:100%;
                max-width:none;
            }
        }

        figure,
        p,
        blockquote,
        h3,
        ol,
        ul,
        pre,
        form,
        table,
        dl {
            width:100%;
            margin:0 0 1.55em 0;
            &:last-child {
                margin-bottom:0;
            }
        }
    }

    &.centre {
        clear:both;
    }
}

.cite {
    >:before {
        content:"—";
        padding-right:.2em;
    }
    p {
        font-size:1em;
        font-style:normal;
        @extend %poynter;
        margin-bottom:0;
        color:$offblack;
        text-align:left;
        font-style:normal;
        width:100%;
    }

    blockquote+& {
        margin-top:$margin/2;
    }
}

blockquote {
    margin-bottom:0;

    p {
        width:100%;
        color:$textgrey;
        font-style:italic;
        padding-left: 1em;
        border-left:2px solid #eee;
        padding-bottom:1.5em;
        margin-bottom:0;

        &:only-child {
            padding-bottom:0;
        }
    }


    em {
        font-style:normal;
        @extend %poynter;
    }

    >p:last-of-type {
        margin-bottom:0;
        padding-bottom:0;
    }
}

p {
    -webkit-hyphens:auto;
    -moz-hyphens:auto;
    -ms-hyphens:auto;
    -o-hyphens:auto;
    hyphens:auto;
}

pre {
    line-height:1.3;
    overflow:hidden;
    font-size:.95em;
}

hgroup {
    margin:2.5em auto 1.55em auto;

    h1,h2,h3,h4,
    .h1,.h2,.h3,.h4,.h5 {
        width:100%;
        margin:0 auto;
        max-width:none;
    }

    header & {
        margin:0 auto;
        max-width:none;
        width:100%;
    }
}

footer[role="contentinfo"] {
    margin-top:0;
    width:100%;

    section {
        padding-bottom:.5em;
        background-color:$tertiary;
        border:1px solid #ddd;

        p {
            font-size:.9em;
        }
    }

    nav {
        @extend %main_column;
        background-size:100%;
        padding:1.5em 0 1.3em 0;
        margin:0 auto;
        text-align:center;
        background:url("/assets/images/logo/footer-logo.png") no-repeat center 0;

        .svg & {
            background:url("/assets/images/logo/footer-logo.svg") no-repeat center 0;
            background-size:170%;

            @include respond-to(medium){
                background-size:150%;
            }

            @include respond-to(grande){
                background-size:130%;
            }
        }

        @media screen and(min-width:26.6875em){
            padding-top:2.5em;
        }

        @include respond-to(medium){
            padding-top:3.3em;
            background-size:100%;
        }

        @media screen and(min-width:35.6875em){
            padding-top:4em;
        }

        @include respond-to(grande){
            padding-top:3em;
        }

        ul {
            font-size:90%;
            margin:4em 0 0 0;
            width:100%;
            max-width:none;
            padding-top:10%;

            @include respond-to(medium){
                margin:2em 0 0 0;
            }

            li {
                display:inline-block;
                list-style:none;
                background:none;
                text-align:center;
                padding-left:.7em;
                margin-left:0;

                &:after {
                    content:"|";
                    color:darken($lightcream, 20);
                    padding-left:.9em;
                    margin-left:.2em;
                }

                &:last-child:after {
                    content:"";
                    padding-right:0;
                }

            }
        }
    }
}