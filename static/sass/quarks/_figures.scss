/*------------------------------------*\
    $FIGURES
\*------------------------------------*/

figure {
    img + img {
        margin-top:1em;
    }

    img + blockquote {
        @include rem(margin-top, $base-spacing-unit);
    }

    &.centre {
        clear:both;
    }
}

figcaption {
    @include rem(margin-top, 10);
    margin-bottom: 0;

    h4 {
        margin: 0;
        color: $color__offblack;
    }

    p {
        @include text--small;
        font-style: italic;
        color: $color__grey--mid;
        margin-top: 0;
        margin-bottom: 0;
        text-align: left;
    }
}

// Wide styles that add extra padding
.figure--wide {
    @extend .cf;
    @include rem(margin, $base-spacing-unit, 0);
    @include rem(padding-top, $base-spacing-unit);
    position: relative;

    @include respond-to("medium and above"){
        @include rem(margin, $base-spacing-unit * 2, 0);
    }
}


.figure--wide--standard {
    margin: 0;
    @include rem(margin-bottom, $base-spacing-unit);
}

    .figure--wide__img {
        @include rem(padding, 0, $half-spacing-unit);
        @include rem(margin-bottom, $base-spacing-unit);
    }

    .figure--thin__img {
        @include respond-to("large and above"){
            float: left;
            margin-left: 6%;
            padding-right: 0;
            width: 45%;
        }
    }


    .figure--wide__caption {
        margin-top: 0;
        padding-left: 6%;
        padding-right: 6%;
        @include rem(padding-top, $quarter-spacing-unit);
        @include rem(padding-bottom, $quarter-spacing-unit);
        float: left;
        @include rem(max-width, 500);

        @include respond-to("medium and above"){
            position: relative;
            padding-left: 6%;
            @include rem(padding-right, $half-spacing-unit);
            @include rem(margin-bottom, $base-spacing-unit);
            @include rem(margin-top, - $quarter-spacing-unit);
        }

        p {
            padding-left: 0;
            font-style: normal;
            @include rem(font-size, 16);
            line-height: 1.7;

            @include respond-to("medium and above"){
                line-height: 1.55;
            }
        }

        h4 {
            text-transform: none;
            @include rem(font-size, 17);
            color: $color__darkgrey;
        }
    }


    .figure--wide__caption--light {
        background-color: $color__offblack;
        background-color: rgba(221,221,221,.15);

        h4 {
            color: $color__white;
        }

        p {
            color: $color__secondary;
        }

        .custom-post--lexicon & a {
            color: $color__secondary;
            border-color: $color__secondary;
            display: inline-block;
            line-height: .9;

            &:hover,
            &:focus {
                color: $color__white;
            }
        }
    }

    .figure--wide__caption--dark {
        @include rem(padding-top, $base-spacing-unit / 1.4);
        @include rem(padding-bottom, $base-spacing-unit / 1.4);
        background-color: $color__grey--mid;
        background-color: rgba(0,0,0, .3);

        @include respond-to("medium and above"){
            @include rem(padding-top, $half-spacing-unit);
            @include rem(padding-bottom, $half-spacing-unit * 1.4);
        }

        @include respond-to("large and above"){
            @include rem(max-width, 650);
        }

        h2 {
            color: $color__white;
            border-bottom: 1px solid $color__lightgrey;
            @include rem(margin-bottom, $half-spacing-unit / 2);
            @include rem(padding-bottom, $half-spacing-unit / 2);
        }

        a {
            color: $color__white;

            &:hover,
            &:focus {
                color: darken($color__white, 20);               
            }
        }

        p {
            color: darken($color__white, 10);
            line-height: 1.72353;
            @extend %font__text;
            @include rem(font-size, 17);

            @include respond-to("large and above"){
                @include rem(font-size, 18);
                line-height: 1.6;
            }

            > a {
                text-decoration: underline;
                color: darken($color__white, 0);
            }
        }
    }

    .figure--index {
        @include rem(padding-top, $base-spacing-unit * 2);
        @include rem(margin-bottom, $base-spacing-unit * 1.5);

        @include respond-to("medium and above"){
            @include rem(margin-bottom, $base-spacing-unit * 2);
        }
    }


    .figure--thin__caption {
        @include respond-to("large and above"){
            float: right;
            @include rem(padding-left, $half-spacing-unit);
            padding-right: 6%;
            width: 45%;
            @include rem(max-width, 700);
        }
    }

// Color background modifiers
.figure--bg-blue {
    background-color: $color__blue--light;
}

.figure--bg-black {
    background-color: $color__metal-grey;
}

.figure--bg-dark {
    background-color: $color__black;
}

.figure--bg-grey {
    background-color: $color__grey--x-dark;
}

.figure--bg-light {
    background-color: $color__border--dark;
}

.figure--bg-image {
    .figure--wide__img {
        margin-bottom: 0;
        width: 100%;
        padding: 0;
    }

    .figure--wide__caption--light {
        @include respond-to("medium and above"){
            @include rem(margin-top, -100);
            margin-bottom: 0;
        }
    }
}
